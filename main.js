(()=>{function se(e,n,i,s,h,f){return{tag:e,key:n,attrs:i,children:s,text:h,dom:f,domSize:void 0,state:void 0,events:void 0,instance:void 0}}se.normalize=function(e){return Array.isArray(e)?se("[",void 0,void 0,se.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:se("#",void 0,void 0,String(e),void 0,void 0)},se.normalizeChildren=function(e){var n=[];if(e.length){for(var i=e[0]!=null&&e[0].key!=null,s=1;s<e.length;s++)if((e[s]!=null&&e[s].key!=null)!==i)throw new TypeError(!i||e[s]==null&&typeof e[s]!="boolean"?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(s=0;s<e.length;s++)n[s]=se.normalize(e[s])}return n};var ae=se,Dt=ae,st=function(){var e,n=arguments[this],i=this+1;if(n==null?n={}:(typeof n!="object"||n.tag!=null||Array.isArray(n))&&(n={},i=this),arguments.length===i+1)e=arguments[i],Array.isArray(e)||(e=[e]);else for(e=[];i<arguments.length;)e.push(arguments[i++]);return Dt("",n.key,n,e)},be={}.hasOwnProperty,jt=ae,Ft=st,ue=be,Ut=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Qe={};function Ve(e){for(var n in e)if(ue.call(e,n))return!1;return!0}var lt=function(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var n=Ft.apply(1,arguments);return typeof e=="string"&&(n.children=jt.normalizeChildren(n.children),e!=="[")?function(i,s){var h=s.attrs,f=ue.call(h,"class"),g=f?h.class:h.className;if(s.tag=i.tag,s.attrs={},!Ve(i.attrs)&&!Ve(h)){var y={};for(var b in h)ue.call(h,b)&&(y[b]=h[b]);h=y}for(var b in i.attrs)ue.call(i.attrs,b)&&b!=="className"&&!ue.call(h,b)&&(h[b]=i.attrs[b]);for(var b in g==null&&i.attrs.className==null||(h.className=g!=null?i.attrs.className!=null?String(i.attrs.className)+" "+String(g):g:i.attrs.className!=null?i.attrs.className:null),f&&(h.class=null),h)if(ue.call(h,b)&&b!=="key"){s.attrs=h;break}return s}(Qe[e]||function(i){for(var s,h="div",f=[],g={};s=Ut.exec(i);){var y=s[1],b=s[2];if(y===""&&b!=="")h=b;else if(y==="#")g.id=b;else if(y===".")f.push(b);else if(s[3][0]==="["){var T=s[6];T&&(T=T.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),s[4]==="class"?f.push(T):g[s[4]]=T===""?T:T||!0}}return f.length>0&&(g.className=f.join(" ")),Qe[i]={tag:h,attrs:g}}(e),n):(n.tag=e,n)},_t=ae,Wt=ae,Kt=st,Re=lt;Re.trust=function(e){return e==null&&(e=""),_t("<",void 0,void 0,e,void 0,void 0)},Re.fragment=function(){var e=Kt.apply(0,arguments);return e.tag="[",e.children=Wt.normalizeChildren(e.children),e};var $t=Re,Ge=new WeakMap,Ne={delayedRemoval:Ge,domFor:function*({dom:e,domSize:n},{generation:i}={}){if(e!=null)do{let{nextSibling:s}=e;Ge.get(e)===i&&(yield e,n--),e=s}while(n)}},ze=ae,Je=Ne.delayedRemoval,Pe=Ne.domFor,ut=function(e){var n,i,s=e&&e.document,h={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function f(r){return r.attrs&&r.attrs.xmlns||h[r.tag]}function g(r,t){if(r.state!==t)throw new Error("'vnode.state' must not be modified.")}function y(r){var t=r.state;try{return this.apply(t,arguments)}finally{g(r,t)}}function b(){try{return s.activeElement}catch{return null}}function T(r,t,a,c,p,w,S){for(var u=a;u<c;u++){var l=t[u];l!=null&&d(r,l,p,S,w)}}function d(r,t,a,c,p){var w=t.tag;if(typeof w=="string")switch(t.state={},t.attrs!=null&&Ee(t.attrs,t,a),w){case"#":(function(S,u,l){u.dom=s.createTextNode(u.children),B(S,u.dom,l)})(r,t,p);break;case"<":D(r,t,c,p);break;case"[":(function(S,u,l,m,O){var v=s.createDocumentFragment();if(u.children!=null){var q=u.children;T(v,q,0,q.length,l,null,m)}u.dom=v.firstChild,u.domSize=v.childNodes.length,B(S,v,O)})(r,t,a,c,p);break;default:(function(S,u,l,m,O){var v=u.tag,q=u.attrs,x=q&&q.is;m=f(u)||m;var j=m?x?s.createElementNS(m,v,{is:x}):s.createElementNS(m,v):x?s.createElement(v,{is:x}):s.createElement(v);if(u.dom=j,q!=null&&function(C,P,ee){C.tag==="input"&&P.type!=null&&C.dom.setAttribute("type",P.type);var Se=P!=null&&C.tag==="input"&&P.type==="file";for(var he in P)L(C,he,null,P[he],ee,Se)}(u,q,m),B(S,j,O),!E(u)&&u.children!=null){var R=u.children;T(j,R,0,R.length,l,null,m),u.tag==="select"&&q!=null&&function(C,P){if("value"in P)if(P.value===null)C.dom.selectedIndex!==-1&&(C.dom.value=null);else{var ee=""+P.value;C.dom.value===ee&&C.dom.selectedIndex!==-1||(C.dom.value=ee)}"selectedIndex"in P&&L(C,"selectedIndex",null,P.selectedIndex,void 0)}(u,q)}})(r,t,a,c,p)}else(function(S,u,l,m,O){(function(v,q){var x;if(typeof v.tag.view=="function"){if(v.state=Object.create(v.tag),(x=v.state.view).$$reentrantLock$$!=null)return;x.$$reentrantLock$$=!0}else{if(v.state=void 0,(x=v.tag).$$reentrantLock$$!=null)return;x.$$reentrantLock$$=!0,v.state=v.tag.prototype!=null&&typeof v.tag.prototype.view=="function"?new v.tag(v):v.tag(v)}if(Ee(v.state,v,q),v.attrs!=null&&Ee(v.attrs,v,q),v.instance=ze.normalize(y.call(v.state.view,v)),v.instance===v)throw Error("A view cannot return the vnode it received as argument");x.$$reentrantLock$$=null})(u,l),u.instance!=null?(d(S,u.instance,l,m,O),u.dom=u.instance.dom,u.domSize=u.dom!=null?u.instance.domSize:0):u.domSize=0})(r,t,a,c,p)}var U={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function D(r,t,a,c){var p=t.children.match(/^\s*?<(\w+)/im)||[],w=s.createElement(U[p[1]]||"div");a==="http://www.w3.org/2000/svg"?(w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",w=w.firstChild):w.innerHTML=t.children,t.dom=w.firstChild,t.domSize=w.childNodes.length;for(var S,u=s.createDocumentFragment();S=w.firstChild;)u.appendChild(S);B(r,u,c)}function Z(r,t,a,c,p,w){if(t!==a&&(t!=null||a!=null))if(t==null||t.length===0)T(r,a,0,a.length,c,p,w);else if(a==null||a.length===0)z(r,t,0,t.length);else{var S=t[0]!=null&&t[0].key!=null,u=a[0]!=null&&a[0].key!=null,l=0,m=0;if(!S)for(;m<t.length&&t[m]==null;)m++;if(!u)for(;l<a.length&&a[l]==null;)l++;if(S!==u)z(r,t,m,t.length),T(r,a,l,a.length,c,p,w);else if(u){for(var O,v,q,x,j,R=t.length-1,C=a.length-1;R>=m&&C>=l&&(q=t[R],x=a[C],q.key===x.key);)q!==x&&N(r,q,x,c,p,w),x.dom!=null&&(p=x.dom),R--,C--;for(;R>=m&&C>=l&&(O=t[m],v=a[l],O.key===v.key);)m++,l++,O!==v&&N(r,O,v,c,Q(t,m,p),w);for(;R>=m&&C>=l&&l!==C&&O.key===x.key&&q.key===v.key;)A(r,q,j=Q(t,m,p)),q!==v&&N(r,q,v,c,j,w),++l<=--C&&A(r,O,p),O!==x&&N(r,O,x,c,p,w),x.dom!=null&&(p=x.dom),m++,q=t[--R],x=a[C],O=t[m],v=a[l];for(;R>=m&&C>=l&&q.key===x.key;)q!==x&&N(r,q,x,c,p,w),x.dom!=null&&(p=x.dom),C--,q=t[--R],x=a[C];if(l>C)z(r,t,m,R+1);else if(m>R)T(r,a,l,C+1,c,p,w);else{var P,ee,Se=p,he=C-l+1,ve=new Array(he),Oe=0,H=0,Ie=2147483647,Le=0;for(H=0;H<he;H++)ve[H]=-1;for(H=C;H>=l;H--){P==null&&(P=Y(t,m,R+1));var le=P[(x=a[H]).key];le!=null&&(Ie=le<Ie?le:-1,ve[H-l]=le,q=t[le],t[le]=null,q!==x&&N(r,q,x,c,p,w),x.dom!=null&&(p=x.dom),Le++)}if(p=Se,Le!==R-m+1&&z(r,t,m,R+1),Le===0)T(r,a,l,C+1,c,p,w);else if(Ie===-1)for(ee=function(ne){var X=[0],J=0,oe=0,$=0,$e=_.length=ne.length;for($=0;$<$e;$++)_[$]=ne[$];for($=0;$<$e;++$)if(ne[$]!==-1){var Ye=X[X.length-1];if(ne[Ye]<ne[$])_[$]=Ye,X.push($);else{for(J=0,oe=X.length-1;J<oe;){var Be=(J>>>1)+(oe>>>1)+(J&oe&1);ne[X[Be]]<ne[$]?J=Be+1:oe=Be}ne[$]<ne[X[J]]&&(J>0&&(_[$]=X[J-1]),X[J]=$)}}for(J=X.length,oe=X[J-1];J-- >0;)X[J]=oe,oe=_[oe];return _.length=0,X}(ve),Oe=ee.length-1,H=C;H>=l;H--)v=a[H],ve[H-l]===-1?d(r,v,c,w,p):ee[Oe]===H-l?Oe--:A(r,v,p),v.dom!=null&&(p=a[H].dom);else for(H=C;H>=l;H--)v=a[H],ve[H-l]===-1&&d(r,v,c,w,p),v.dom!=null&&(p=a[H].dom)}}else{var Ae=t.length<a.length?t.length:a.length;for(l=l<m?l:m;l<Ae;l++)(O=t[l])===(v=a[l])||O==null&&v==null||(O==null?d(r,v,c,w,Q(t,l+1,p)):v==null?I(r,O):N(r,O,v,c,Q(t,l+1,p),w));t.length>Ae&&z(r,t,l,t.length),a.length>Ae&&T(r,a,l,a.length,c,p,w)}}}function N(r,t,a,c,p,w){var S=t.tag;if(S===a.tag){if(a.state=t.state,a.events=t.events,function(u,l){do{var m;if(u.attrs!=null&&typeof u.attrs.onbeforeupdate=="function"&&(m=y.call(u.attrs.onbeforeupdate,u,l))!==void 0&&!m||typeof u.tag!="string"&&typeof u.state.onbeforeupdate=="function"&&(m=y.call(u.state.onbeforeupdate,u,l))!==void 0&&!m)break;return!1}while(!1);return u.dom=l.dom,u.domSize=l.domSize,u.instance=l.instance,u.attrs=l.attrs,u.children=l.children,u.text=l.text,!0}(a,t))return;if(typeof S=="string")switch(a.attrs!=null&&Ce(a.attrs,a,c),S){case"#":(function(u,l){u.children.toString()!==l.children.toString()&&(u.dom.nodeValue=l.children),l.dom=u.dom})(t,a);break;case"<":(function(u,l,m,O,v){l.children!==m.children?(F(u,l,void 0),D(u,m,O,v)):(m.dom=l.dom,m.domSize=l.domSize)})(r,t,a,w,p);break;case"[":(function(u,l,m,O,v,q){Z(u,l.children,m.children,O,v,q);var x=0,j=m.children;if(m.dom=null,j!=null){for(var R=0;R<j.length;R++){var C=j[R];C!=null&&C.dom!=null&&(m.dom==null&&(m.dom=C.dom),x+=C.domSize||1)}x!==1&&(m.domSize=x)}})(r,t,a,c,p,w);break;default:(function(u,l,m,O){var v=l.dom=u.dom;O=f(l)||O,l.tag==="textarea"&&l.attrs==null&&(l.attrs={}),function(q,x,j,R){if(x&&x===j&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),j!=null){q.tag==="input"&&j.type!=null&&q.dom.setAttribute("type",j.type);var C=q.tag==="input"&&j.type==="file";for(var P in j)L(q,P,x&&x[P],j[P],R,C)}var ee;if(x!=null)for(var P in x)(ee=x[P])==null||j!=null&&j[P]!=null||K(q,P,ee,R)}(l,u.attrs,l.attrs,O),E(l)||Z(v,u.children,l.children,m,null,O)})(t,a,c,w)}else(function(u,l,m,O,v,q){if(m.instance=ze.normalize(y.call(m.state.view,m)),m.instance===m)throw Error("A view cannot return the vnode it received as argument");Ce(m.state,m,O),m.attrs!=null&&Ce(m.attrs,m,O),m.instance!=null?(l.instance==null?d(u,m.instance,O,q,v):N(u,l.instance,m.instance,O,v,q),m.dom=m.instance.dom,m.domSize=m.instance.domSize):l.instance!=null?(I(u,l.instance),m.dom=void 0,m.domSize=0):(m.dom=l.dom,m.domSize=l.domSize)})(r,t,a,c,p,w)}else I(r,t),d(r,a,c,w,p)}function Y(r,t,a){for(var c=Object.create(null);t<a;t++){var p=r[t];if(p!=null){var w=p.key;w!=null&&(c[w]=t)}}return c}var _=[];function Q(r,t,a){for(;t<r.length;t++)if(r[t]!=null&&r[t].dom!=null)return r[t].dom;return a}function A(r,t,a){if(t.dom!=null){var c;if(t.domSize==null)c=t.dom;else for(var p of(c=s.createDocumentFragment(),Pe(t)))c.appendChild(p);B(r,c,a)}}function B(r,t,a){a!=null?r.insertBefore(t,a):r.appendChild(t)}function E(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var t=r.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var a=t[0].children;r.dom.innerHTML!==a&&(r.dom.innerHTML=a)}else if(t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function z(r,t,a,c){for(var p=a;p<c;p++){var w=t[p];w!=null&&I(r,w)}}function I(r,t){var a,c,p,w,S=0,u=t.state;if(typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"&&(p=y.call(t.state.onbeforeremove,t))!=null&&typeof p.then=="function"&&(S=1,a=p),t.attrs&&typeof t.attrs.onbeforeremove=="function"&&(p=y.call(t.attrs.onbeforeremove,t))!=null&&typeof p.then=="function"&&(S|=2,c=p),g(t,u),S){for(var l of(w=i,Pe(t)))Je.set(l,w);a?.finally(function(){1&S&&((S&=2)||(g(t,u),k(t),F(r,t,w)))}),c?.finally(function(){2&S&&((S&=1)||(g(t,u),k(t),F(r,t,w)))})}else k(t),F(r,t,w)}function F(r,t,a){if(t.dom!=null)if(t.domSize==null)Je.get(t.dom)===a&&r.removeChild(t.dom);else for(var c of Pe(t,{generation:a}))r.removeChild(c)}function k(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&y.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&y.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&k(r.instance);else{var t=r.children;if(Array.isArray(t))for(var a=0;a<t.length;a++){var c=t[a];c!=null&&k(c)}}}function L(r,t,a,c,p,w){if(!(t==="key"||t==="is"||c==null||M(t)||a===c&&!function(S,u){return u==="value"||u==="checked"||u==="selectedIndex"||u==="selected"&&S.dom===b()||S.tag==="option"&&S.dom.parentNode===s.activeElement}(r,t)&&typeof c!="object"||t==="type"&&r.tag==="input")){if(t[0]==="o"&&t[1]==="n")return Ke(r,t,c);if(t.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),c);else if(t==="style")We(r.dom,a,c);else if(re(r,t,p)){if(t==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+c&&(w||r.dom===b())||r.tag==="select"&&a!==null&&r.dom.value===""+c||r.tag==="option"&&a!==null&&r.dom.value===""+c)return;if(w&&""+c!="")return void console.error("`value` is read-only on file inputs!")}r.dom[t]=c}else typeof c=="boolean"?c?r.dom.setAttribute(t,""):r.dom.removeAttribute(t):r.dom.setAttribute(t==="className"?"class":t,c)}}function K(r,t,a,c){if(t!=="key"&&t!=="is"&&a!=null&&!M(t))if(t[0]==="o"&&t[1]==="n")Ke(r,t,void 0);else if(t==="style")We(r.dom,a,null);else if(!re(r,t,c)||t==="className"||t==="title"||t==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===b())||r.tag==="input"&&t==="type"){var p=t.indexOf(":");p!==-1&&(t=t.slice(p+1)),a!==!1&&r.dom.removeAttribute(t==="className"?"class":t)}else r.dom[t]=null}function M(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function re(r,t,a){return a===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in r.dom}var G,V=/[A-Z]/g;function _e(r){return"-"+r.toLowerCase()}function ke(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(V,_e)}function We(r,t,a){if(t!==a)if(a==null)r.style="";else if(typeof a!="object")r.style=a;else if(t==null||typeof t!="object")for(var c in r.style.cssText="",a)(p=a[c])!=null&&r.style.setProperty(ke(c),String(p));else{for(var c in a){var p;(p=a[c])!=null&&(p=String(p))!==String(t[c])&&r.style.setProperty(ke(c),p)}for(var c in t)t[c]!=null&&a[c]==null&&r.style.removeProperty(ke(c))}}function qe(){this._=n}function Ke(r,t,a){if(r.events!=null){if(r.events._=n,r.events[t]===a)return;a==null||typeof a!="function"&&typeof a!="object"?(r.events[t]!=null&&r.dom.removeEventListener(t.slice(2),r.events,!1),r.events[t]=void 0):(r.events[t]==null&&r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=a)}else a==null||typeof a!="function"&&typeof a!="object"||(r.events=new qe,r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=a)}function Ee(r,t,a){typeof r.oninit=="function"&&y.call(r.oninit,t),typeof r.oncreate=="function"&&a.push(y.bind(r.oncreate,t))}function Ce(r,t,a){typeof r.onupdate=="function"&&a.push(y.bind(r.onupdate,t))}return qe.prototype=Object.create(null),qe.prototype.handleEvent=function(r){var t,a=this["on"+r.type];typeof a=="function"?t=a.call(r.currentTarget,r):typeof a.handleEvent=="function"&&a.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),t===!1&&(r.preventDefault(),r.stopPropagation())},function(r,t,a){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(G!=null&&r.contains(G))throw new TypeError("Node is currently being rendered to and thus is locked.");var c=n,p=G,w=[],S=b(),u=r.namespaceURI;G=r,n=typeof a=="function"?a:void 0,i={};try{r.vnodes==null&&(r.textContent=""),t=ze.normalizeChildren(Array.isArray(t)?t:[t]),Z(r,r.vnodes,t,w,null,u==="http://www.w3.org/1999/xhtml"?void 0:u),r.vnodes=t,S!=null&&b()!==S&&typeof S.focus=="function"&&S.focus();for(var l=0;l<w.length;l++)w[l]()}finally{n=c,G=p}}}(typeof window<"u"?window:null),Xe=ae,He=function(e,n,i){var s=[],h=!1,f=-1;function g(){for(f=0;f<s.length;f+=2)try{e(s[f],Xe(s[f+1]),y)}catch(b){i.error(b)}f=-1}function y(){h||(h=!0,n(function(){h=!1,g()}))}return y.sync=g,{mount:function(b,T){if(T!=null&&T.view==null&&typeof T!="function")throw new TypeError("m.mount expects a component, not a vnode.");var d=s.indexOf(b);d>=0&&(s.splice(d,2),d<=f&&(f-=2),e(b,[])),T!=null&&(s.push(b,T),e(b,Xe(T),y))},redraw:y}}(ut,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),ct=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var n=[];for(var i in e)s(i,e[i]);return n.join("&");function s(h,f){if(Array.isArray(f))for(var g=0;g<f.length;g++)s(h+"["+g+"]",f[g]);else if(Object.prototype.toString.call(f)==="[object Object]")for(var g in f)s(h+"["+g+"]",f[g]);else n.push(encodeURIComponent(h)+(f!=null&&f!==""?"="+encodeURIComponent(f):""))}},Yt=be,mt=Object.assign||function(e,n){for(var i in n)Yt.call(n,i)&&(e[i]=n[i])},Qt=ct,Vt=mt,Me=function(e,n){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(n==null)return e;var i=e.indexOf("?"),s=e.indexOf("#"),h=s<0?e.length:s,f=i<0?h:i,g=e.slice(0,f),y={};Vt(y,n);var b=g.replace(/:([^\/\.-]+)(\.{3})?/g,function(Y,_,Q){return delete y[_],n[_]==null?Y:Q?n[_]:encodeURIComponent(String(n[_]))}),T=b.indexOf("?"),d=b.indexOf("#"),U=d<0?b.length:d,D=T<0?U:T,Z=b.slice(0,D);i>=0&&(Z+=e.slice(i,h)),T>=0&&(Z+=(i<0?"?":"&")+b.slice(T,U));var N=Qt(y);return N&&(Z+=(i<0&&T<0?"?":"&")+N),s>=0&&(Z+=e.slice(s)),d>=0&&(Z+=(s<0?"":"&")+b.slice(d)),Z},Gt=Me,et=be,Jt=function(e,n){function i(h){return new Promise(h)}function s(h,f){for(var g in h.headers)if(et.call(h.headers,g)&&g.toLowerCase()===f)return!0;return!1}return i.prototype=Promise.prototype,i.__proto__=Promise,{request:function(h,f){typeof h!="string"?(f=h,h=h.url):f==null&&(f={});var g=function(T,d){return new Promise(function(U,D){T=Gt(T,d.params);var Z,N=d.method!=null?d.method.toUpperCase():"GET",Y=d.body,_=(d.serialize==null||d.serialize===JSON.serialize)&&!(Y instanceof e.FormData||Y instanceof e.URLSearchParams),Q=d.responseType||(typeof d.extract=="function"?"":"json"),A=new e.XMLHttpRequest,B=!1,E=!1,z=A,I=A.abort;for(var F in A.abort=function(){B=!0,I.call(this)},A.open(N,T,d.async!==!1,typeof d.user=="string"?d.user:void 0,typeof d.password=="string"?d.password:void 0),_&&Y!=null&&!s(d,"content-type")&&A.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof d.deserialize=="function"||s(d,"accept")||A.setRequestHeader("Accept","application/json, text/*"),d.withCredentials&&(A.withCredentials=d.withCredentials),d.timeout&&(A.timeout=d.timeout),A.responseType=Q,d.headers)et.call(d.headers,F)&&A.setRequestHeader(F,d.headers[F]);A.onreadystatechange=function(k){if(!B&&k.target.readyState===4)try{var L,K=k.target.status>=200&&k.target.status<300||k.target.status===304||/^file:\/\//i.test(T),M=k.target.response;if(Q==="json"){if(!k.target.responseType&&typeof d.extract!="function")try{M=JSON.parse(k.target.responseText)}catch{M=null}}else Q&&Q!=="text"||M==null&&(M=k.target.responseText);if(typeof d.extract=="function"?(M=d.extract(k.target,d),K=!0):typeof d.deserialize=="function"&&(M=d.deserialize(M)),K){if(typeof d.type=="function")if(Array.isArray(M))for(var re=0;re<M.length;re++)M[re]=new d.type(M[re]);else M=new d.type(M);U(M)}else{var G=function(){try{L=k.target.responseText}catch{L=M}var V=new Error(L);V.code=k.target.status,V.response=M,D(V)};A.status===0?setTimeout(function(){E||G()}):G()}}catch(V){D(V)}},A.ontimeout=function(k){E=!0;var L=new Error("Request timed out");L.code=k.target.status,D(L)},typeof d.config=="function"&&(A=d.config(A,d,T)||A)!==z&&(Z=A.abort,A.abort=function(){B=!0,Z.call(this)}),Y==null?A.send():typeof d.serialize=="function"?A.send(d.serialize(Y)):Y instanceof e.FormData||Y instanceof e.URLSearchParams?A.send(Y):A.send(JSON.stringify(Y))})}(h,f);if(f.background===!0)return g;var y=0;function b(){--y==0&&typeof n=="function"&&n()}return function T(d){var U=d.then;return d.constructor=i,d.then=function(){y++;var D=U.apply(d,arguments);return D.then(b,function(Z){if(b(),y===0)throw Z}),T(D)},d}(g)}}}(typeof window<"u"?window:null,He.redraw);function tt(e){try{return decodeURIComponent(e)}catch{return e}}var ft=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var n=e.split("&"),i={},s={},h=0;h<n.length;h++){var f=n[h].split("="),g=tt(f[0]),y=f.length===2?tt(f[1]):"";y==="true"?y=!0:y==="false"&&(y=!1);var b=g.split(/\]\[?|\[/),T=s;g.indexOf("[")>-1&&b.pop();for(var d=0;d<b.length;d++){var U=b[d],D=b[d+1],Z=D==""||!isNaN(parseInt(D,10));if(U==="")i[g=b.slice(0,d).join()]==null&&(i[g]=Array.isArray(T)?T.length:0),U=i[g]++;else if(U==="__proto__")break;if(d===b.length-1)T[U]=y;else{var N=Object.getOwnPropertyDescriptor(T,U);N!=null&&(N=N.value),N==null&&(T[U]=N=Z?[]:{}),T=N}}}return s},Xt=ft,De=function(e){var n=e.indexOf("?"),i=e.indexOf("#"),s=i<0?e.length:i,h=n<0?s:n,f=e.slice(0,h).replace(/\/{2,}/g,"/");return f?f[0]!=="/"&&(f="/"+f):f="/",{path:f,params:n<0?{}:Xt(e.slice(n+1,s))}},er=De,rt=be,nt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),dt=function(e,n){var i={};if(n!=null)for(var s in e)rt.call(e,s)&&!nt.test(s)&&n.indexOf(s)<0&&(i[s]=e[s]);else for(var s in e)rt.call(e,s)&&!nt.test(s)&&(i[s]=e[s]);return i},tr=ae,rr=lt,ot=Me,it=De,nr=function(e){var n=er(e),i=Object.keys(n.params),s=[],h=new RegExp("^"+n.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(f,g,y){return g==null?"\\"+f:(s.push({k:g,r:y==="..."}),y==="..."?"(.*)":y==="."?"([^/]+)\\.":"([^/]+)"+(y||""))})+"$");return function(f){for(var g=0;g<i.length;g++)if(n.params[i[g]]!==f.params[i[g]])return!1;if(!s.length)return h.test(f.path);var y=h.exec(f.path);if(y==null)return!1;for(g=0;g<s.length;g++)f.params[s[g].k]=s[g].r?y[g+1]:decodeURIComponent(y[g+1]);return!0}},or=mt,ir=dt,Ze={};function ar(e){try{return decodeURIComponent(e)}catch{return e}}var sr=function(e,n){var i,s,h,f,g,y,b=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,T=Promise.resolve(),d=!1,U=!1,D=0,Z=Ze,N={onbeforeupdate:function(){return!(!(D=D?2:1)||Ze===Z)},onremove:function(){e.removeEventListener("popstate",Q,!1),e.removeEventListener("hashchange",_,!1)},view:function(){if(D&&Ze!==Z){var E=[tr(h,f.key,f)];return Z&&(E=Z.render(E[0])),E}}},Y=B.SKIP={};function _(){d=!1;var E=e.location.hash;B.prefix[0]!=="#"&&(E=e.location.search+E,B.prefix[0]!=="?"&&(E=e.location.pathname+E)[0]!=="/"&&(E="/"+E));var z=E.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,ar).slice(B.prefix.length),I=it(z);function F(k){console.error(k),A(s,null,{replace:!0})}or(I.params,e.history.state),function k(L){for(;L<i.length;L++)if(i[L].check(I)){var K=i[L].component,M=i[L].route,re=K,G=y=function(V){if(G===y){if(V===Y)return k(L+1);h=V==null||typeof V.view!="function"&&typeof V!="function"?"div":V,f=I.params,g=z,y=null,Z=K.render?K:null,D===2?n.redraw():(D=2,n.redraw.sync())}};return void(K.view||typeof K=="function"?(K={},G(re)):K.onmatch?T.then(function(){return K.onmatch(I.params,z,M)}).then(G,z===s?null:F):G("div"))}if(z===s)throw new Error("Could not resolve default route "+s+".");A(s,null,{replace:!0})}(0)}function Q(){d||(d=!0,b(_))}function A(E,z,I){if(E=ot(E,z),U){Q();var F=I?I.state:null,k=I?I.title:null;I&&I.replace?e.history.replaceState(F,k,B.prefix+E):e.history.pushState(F,k,B.prefix+E)}else e.location.href=B.prefix+E}function B(E,z,I){if(!E)throw new TypeError("DOM element being rendered to does not exist.");if(i=Object.keys(I).map(function(k){if(k[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(k))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:k,component:I[k],check:nr(k)}}),s=z,z!=null){var F=it(z);if(!i.some(function(k){return k.check(F)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",Q,!1):B.prefix[0]==="#"&&e.addEventListener("hashchange",_,!1),U=!0,n.mount(E,N),_()}return B.set=function(E,z,I){y!=null&&((I=I||{}).replace=!0),y=null,A(E,z,I)},B.get=function(){return g},B.prefix="#!",B.Link={view:function(E){var z,I,F,k=rr(E.attrs.selector||"a",ir(E.attrs,["options","params","selector","onclick"]),E.children);return(k.attrs.disabled=!!k.attrs.disabled)?(k.attrs.href=null,k.attrs["aria-disabled"]="true"):(z=E.attrs.options,I=E.attrs.onclick,F=ot(k.attrs.href,E.attrs.params),k.attrs.href=B.prefix+F,k.attrs.onclick=function(L){var K;typeof I=="function"?K=I.call(L.currentTarget,L):I==null||typeof I!="object"||typeof I.handleEvent=="function"&&I.handleEvent(L),K===!1||L.defaultPrevented||L.button!==0&&L.which!==0&&L.which!==1||L.currentTarget.target&&L.currentTarget.target!=="_self"||L.ctrlKey||L.metaKey||L.shiftKey||L.altKey||(L.preventDefault(),L.redraw=!1,B.set(F,null,z))}),k}},B.param=function(E){return f&&E!=null?f[E]:f},B}(typeof window<"u"?window:null,He),we=$t,lr=Jt,at=He,ur=Ne,W=function(){return we.apply(this,arguments)};W.m=we,W.trust=we.trust,W.fragment=we.fragment,W.Fragment="[",W.mount=at.mount,W.route=sr,W.render=ut,W.redraw=at.redraw,W.request=lr.request,W.parseQueryString=ft,W.buildQueryString=ct,W.parsePathname=De,W.buildPathname=Me,W.vnode=ae,W.censor=dt,W.domFor=ur.domFor;var o=W,Br=o.Fragment,zr=o.buildPathname,Pr=o.buildQueryString,Zr=o.censor,Rr=o.domFor,Nr=o.fragment,Hr=o.m,Mr=o.mount,Dr=o.parsePathname,jr=o.parseQueryString,Fr=o.redraw,Ur=o.render,_r=o.request,Wr=o.route,Kr=o.trust,$r=o.vnode;var cr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var pt=(e=21)=>{let n="",i=crypto.getRandomValues(new Uint8Array(e));for(;e--;)n+=cr[i[e]&63];return n};var ce={list:[],destroy:e=>{let n=ce.list.findIndex(i=>i.id===e.id);ce.list.slice(n,1)}};var je=(e,n=3e3)=>{ce.list.push({id:pt(),type:0,text:e,timeout:n})};var ht=()=>({view:()=>o("div",ce.list.map(e=>o("div",{key:e.id},o(mr,{toast:e}))))}),mr=()=>({oninit:e=>{setTimeout(()=>{ce.destroy(e.attrs.toast)},e.attrs.toast.timeout)},onbeforeremove:e=>{e.dom.classList.add(""),setTimeout(()=>{ce.destroy(e.attrs.toast),o.redraw()},300)},view:e=>o("div")});var fr=e=>({view:n=>{}}),gt=fr;var dr=e=>({view:n=>{}}),yt=dr;var pr=e=>({view:n=>{}}),wt=pr;var hr={small:"-small",medium:"-medium",large:"-large"},me=()=>({view:e=>{let n=e.attrs||{size:"medium"},i=hr[n.size||"medium"];return o("div",{class:`a-fab ${i}`},e.children)}});var vr=e=>{let n=e.attrs||{},i=n.width||"24px",s=n.height||"24px",h=n.fill||"currentColor";return{view:f=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:i,height:s,fill:h},f.children)}},fe=()=>({view:e=>o(vr,{...e.attrs},o("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"}))});var gr={default:"",error:"btn-error",success:"btn-success"},yr={default:"",primary:"bg-green-600 active:bg-green-700 text-white",link:"btn-link"},wr={default:"",block:"btn-block",large:"h-12 min-w-12",small:"btn-sm"},br={default:"",active:"active",disabled:"disabled",loading:"loading"},xr={default:"",action:"",circle:"rounded-full"},Tr=e=>{let n=e.attrs,i=n?.class||"",s=gr[n?.color||"default"],h=yr[n?.kind||"default"],f=wr[n?.size||"default"],g=br[n?.state||"default"],y=xr[n?.type||"default"];return{view:b=>o("button",{class:`flex items-center justify-center ${s} ${h} ${f} ${g} ${y} ${i}`},b.children)}},de=Tr;var kr=e=>({view:n=>[o(me,[o(de,{kind:"primary",size:"large",type:"circle"},o(fe))]),o("h1","Books!")]}),bt=kr;var xe=class e{constructor(n){this.inner=n}static Some(n){return new e({some:!0,value:n})}static None(){return new e({some:!1})}match(n){return this.inner.some?n.some(this.inner.value):n.none()}map(n){return this.match({some:i=>e.Some(n(i)),none:()=>e.None()})}andThen(n){return this.match({some:i=>n(i),none:()=>e.None()})}};var Te=class e{constructor(n){this.inner=n}static Ok(n){return new e({ok:!0,value:n})}static Err(n){return new e({ok:!1,error:n})}isOk(){return this.inner.ok}match(n){return this.inner.ok?n.ok(this.inner.value):n.err(this.inner.error)}map(n){return this.match({ok:i=>e.Ok(n(i)),err:i=>e.Err(i)})}mapErr(n){return this.match({ok:i=>e.Ok(i),err:i=>e.Err(n(i))})}andThen(n){return this.match({ok:i=>n(i),err:i=>e.Err(i)})}asOk(){return this.match({ok:n=>xe.Some(n),err:n=>xe.None()})}},xt=e=>Te.Ok(e),pe=e=>Te.Err(e);var te=e=>{let n=e.attrs||{},i=n.width||"24px",s=n.height||"24px",h=n.fill||"currentColor";return{view:f=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:i,height:s,fill:h},f.children)}};var Tt=()=>({view:e=>o(te,{...e.attrs},o("path",{d:"M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z"}))});var kt=()=>({view:e=>{let n=e.attrs;return o("div",{class:"flex items-center"},[o("span",{class:"flex flex-grow items-center"},[o("h2",{class:"text-2xl m-2 text-on-surface"},n.title),n.subtitle?o("h2",{class:"text-on-surface-variant"},n.subtitle):[]]),o(Tt)])}});var Et=()=>({view:e=>{let n=e.attrs;return o("div",{key:n.entry.id,class:"bg-surface-bright rounded h-64 w-36 flex content-center"},[o("img",{class:"aspect-[9/16] max-h-64 max-w-36 object-contain my-auto",src:n.entry.cover})])}});var Ct=e=>e.code===void 0?xt(e.data):pe(new Error(e.message)),St=async()=>Ct(await o.request("/api/bookshelves",{method:"GET"})),Ot=async e=>Ct(await o.request("/api/bookshelves/:id",{params:{id:e},method:"GET"}));var qr=()=>{let e=pe(new Error("book cover didn't load"));return{oninit:async n=>{let i=n.attrs;e=await Ot(i.entry.id)},view:n=>{let i=n.attrs;return e.match({ok:s=>o("div",{key:i.entry.id},[o(kt,{title:i.entry.name}),o("div",{class:"flex flex-row gap-3.5 overflow-x-scroll"},[s.map(h=>o(Et,{entry:h.book}))])]),err:s=>o("h1","Error!")})}}},It=qr;var ge={serviceWorker:!1,settings:{camera:{list:[],selection:null},database:{},search:{provider:"openlibrary",worldcatToken:null}}};var Er=()=>{let e=pe(new Error("bookshelves didn't load"));return{oninit:async n=>{e=await St()},view:n=>ge.serviceWorker?e.match({ok:i=>o("div",{class:"bg-zinc-100 px-4"},[o(me,[o(de,{kind:"primary",size:"large",type:"circle"},[o(fe)])]),o("div",{class:"flex flex-col py-4 gap-y-2 md:gap-y-4"},[i.map(s=>o(It,{entry:s},[]))])]),err:i=>o("h1","Error!")}):null}},Lt=Er;var Cr=e=>({view:n=>o("h1","Tags!")}),At=Cr;var Sr=e=>({view:n=>[o(me,[o(de,{kind:"primary",size:"large",type:"circle"},o(fe))]),o("h1","Wishlist!")]}),Bt=Sr;var Fe=()=>({view:e=>o("label",{...e.attrs||{},class:"block text-lg font-semibold leading-normal py-1"},e.children)});var Ue=()=>({view:e=>o("select",{...e.attrs||{},class:"bg-white border border-zinc-400 leading-normal text-base rounded-sm h-9 max-w-64 py-1.5 pl-2 pr-6"},e.children)}),ie=()=>({view:e=>o("option",e.children)});var Or=()=>({view:e=>[o("h2",{class:"text-2xl m-2"},"Camera"),o("div",{class:"p-2 mx-2 rounded-md shadow-sm"},[o(Fe,{for:"settings-camera-selection"},"Camera Selection"),o(Ue,{id:"settings-camera-selection"},[o(ie,"Choose an option"),o(ie,"Slack"),o(ie,"Skype"),o(ie,"Hipchat")])]),o("h2",{class:"text-2xl m-2"},"Database"),o("div",{class:" p-2 mx-2 rounded-md shadow-sm"},[]),o("h2",{class:"text-2xl m-2"},"Search"),o("div",{class:"p-2 mx-2 rounded-md shadow-sm"},[o(Fe,{for:"settings-search-provider"},"Search Provider"),o(Ue,{id:"settings-search-provider"},[o(ie,"Choose an option"),o(ie,"Slack"),o(ie,"Skype"),o(ie,"Hipchat")])])]}),zt=Or;var Pt=()=>({view:e=>{let n=e.attrs;return o("div",{class:"a-nav"},[o("div",{class:"a-nav--container"},n.items.map(i=>o(Ir,{...i},[])))])}}),Ir=()=>({view:e=>{let n=e.attrs,i=o.route.get()===n.href;return o(o.route.Link,{...n,class:`a-nav_item${i?" -active":""}`},[o("div",{class:"a-nav_item--icon"},[o(n.icon,{filled:i}),n.badge?o("div",{class:"a-nav_item--badge"},[]):[]]),o("div",{class:"a-nav_item--text"},n.label)])}});var Zt=()=>({view:e=>{let i=(e.attrs||{}).filled||!1;return o(te,{...e.attrs},o("path",{d:i?"M840-480 666-234q-11 16-28.5 25t-37.5 9H200q-33 0-56.5-23.5T120-280v-400q0-33 23.5-56.5T200-760h400q20 0 37.5 9t28.5 25l174 246Z":"M840-480 666-234q-11 16-28.5 25t-37.5 9H200q-33 0-56.5-23.5T120-280v-400q0-33 23.5-56.5T200-760h400q20 0 37.5 9t28.5 25l174 246Zm-98 0L600-680H200v400h400l142-200Zm-542 0v200-400 200Z"}))}});var Rt=()=>({view:e=>{let i=(e.attrs||{}).filled||!1;return o(te,{...e.attrs},o("path",{d:i?"M120-40v-880h80v80h560v-80h80v880h-80v-80H200v80h-80Zm80-480h80v-160h240v160h240v-240H200v240Zm0 320h240v-160h240v160h80v-240H200v240Z":"M120-40v-880h80v80h560v-80h80v880h-80v-80H200v80h-80Zm80-480h80v-160h240v160h240v-240H200v240Zm0 320h240v-160h240v160h80v-240H200v240Zm160-320h80v-80h-80v80Zm160 320h80v-80h-80v80ZM360-520h80-80Zm160 320h80-80Z"}))}});var Nt=()=>({view:e=>{let i=(e.attrs||{}).filled||!1;return o(te,{...e.attrs},o("path",{d:i?"M447-80q-15 0-30-6t-27-18L104-390q-12-12-17.5-26.5T81-446q0-15 5.5-30t17.5-27l352-353q11-11 26-17.5t31-6.5h287q33 0 56.5 23.5T880-800v287q0 16-6 30.5T857-457L504-104q-12 12-27 18t-30 6Zm253-560q25 0 42.5-17.5T760-700q0-25-17.5-42.5T700-760q-25 0-42.5 17.5T640-700q0 25 17.5 42.5T700-640Z":"M446-80q-15 0-30-6t-27-18L103-390q-12-12-17.5-26.5T80-446q0-15 5.5-30t17.5-27l352-353q11-11 26-17.5t31-6.5h287q33 0 56.5 23.5T879-800v287q0 16-6 30.5T856-457L503-104q-12 12-27 18t-30 6Zm0-80 353-354v-286H513L160-446l286 286Zm253-480q25 0 42.5-17.5T759-700q0-25-17.5-42.5T699-760q-25 0-42.5 17.5T639-700q0 25 17.5 42.5T699-640ZM480-480Z"}))}});var Ht=()=>({view:e=>{let i=(e.attrs||{}).filled||!1;return o(te,{...e.attrs},o("path",{d:i?"m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm112-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z":"m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"}))}});var Lr=e=>({view:n=>{let i=[{href:"/library/bookshelves",icon:Rt,label:"Bookshelves"},{href:"/library/tags",icon:Zt,label:"Tags"},{href:"/library/wishlist",icon:Nt,label:"Wishlist"},{href:"/settings",icon:Ht,label:"Settings"}];return o.fragment({},[o(ht),o("div",{class:"flex-1 overflow-y-scroll"},n.children),o(Pt,{items:i},[])])}}),Mt=Lr;var ye=e=>({render:()=>o(Mt,o(e))}),Ar=async()=>{if("serviceWorker"in navigator)try{let e=await navigator.serviceWorker.register("./service-worker.js");e.waiting&&e.active?je("Please reload the tab to get updates."):e.active?ge.serviceWorker=!0:e.addEventListener("updatefound",()=>{e.installing!=null&&e.installing.addEventListener("statechange",n=>{if(n.target==null)return;n.target.state==="installed"&&(e.active?je("Please reload the tab to get updates."):ge.serviceWorker=!0)})})}catch(e){console.error(`Registration failed with ${e}`)}};window.addEventListener("load",()=>{Ar(),new EventSource("/esbuild").addEventListener("change",()=>location.reload()),o.route(document.body,"/library/bookshelves",{"/add/bulk":gt,"/add/scan":yt,"/add/search":wt,"/library/bookshelves":ye(Lt),"/library/bookshelves/:bookshelfId":ye(bt),"/library/tags":ye(At),"/library/wishlist":ye(Bt),"/settings":ye(zt)})});})();
//# sourceMappingURL=main.js.map
